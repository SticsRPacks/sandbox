<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Use Git and Github • sandbox</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Use Git and Github">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sandbox</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/make-a-package.html">Make an R package</a>
    </li>
    <li>
      <a href="../articles/use-git-and-github.html">Use Git and Github</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Use Git and Github</h1>
                        <h4 class="author">R. Vezy</h4>
            
            <h4 class="date">2019-03-21</h4>
      
      
      <div class="hidden name"><code>use-git-and-github.Rmd</code></div>

    </div>

    
    
<div id="personal-git-and-github" class="section level2">
<h2 class="hasAnchor">
<a href="#personal-git-and-github" class="anchor"></a>Personal GIT and GITHUB</h2>
<div id="introduction-to-git" class="section level3">
<h3 class="hasAnchor">
<a href="#introduction-to-git" class="anchor"></a>Introduction to GIT</h3>
<p>GIT is a software designed for efficient version control. It helps you and your collaborators develop better softwares. With GIT, you can save “snapshots” of your work at any moment, and return to a previous state whenever you want. GIT has much more to offer, but this is out of the scope of this introduction.</p>
<p>A good way to learn the few main commands of GIT is by completing at leats the first 3 exercices from <a href="https://learngitbranching.js.org/">learngitbranching</a>. These few exercices will show you very quickly how to use these commands, and when to use them.</p>
</div>
<div id="add-git-versionning-to-your-package" class="section level3">
<h3 class="hasAnchor">
<a href="#add-git-versionning-to-your-package" class="anchor"></a>Add GIT versionning to your package</h3>
<p>To add GIT versionning to your package, use this command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">usethis<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/usethis/topics/use_git">use_git</a></span>()</a></code></pre></div>
<p>This function will initialize the versioning using GIT with a first commit, and set your .Rbuildignore and .gitignore files. Those are configuration files telling R and GIT to not use some files or folders in the project.</p>
</div>
<div id="use-github-desktop" class="section level3">
<h3 class="hasAnchor">
<a href="#use-github-desktop" class="anchor"></a>Use GITHUB DESKTOP</h3>
<p>Open GITHUB Desktop, enter your Github.com credentials, and do <code>ctrl+O</code> to add your R package. Once done, try to add or modify some code. The new code appears in Github desktop as green if added, and red if deleted. Now you can commit your changes to save them:</p>
<div class="figure">
<img src="../www/6-commit_and_puch.gif" alt="Commit and push"><p class="caption">Commit and push</p>
</div>
</div>
<div id="publish-your-git-repo-to-github-com" class="section level3">
<h3 class="hasAnchor">
<a href="#publish-your-git-repo-to-github-com" class="anchor"></a>Publish your GIT repo to GITHUB.com</h3>
<p>A big benefit of using GIT is being able to have a copy of your code on a remote server. In GIT, a project containing code is called a repository. Now we can push (<em>i.e.</em> send) our local repository to Github.com by clicking on <code>Publish to Github.com</code>.<br>
Once done, you will be able to see this repository on your personal account in Github.com.</p>
<p>Go to your Github.com account, and find your repository. You now see why the README file is important. It is rendered automatically by Github.com as a welcome page, so it is the showcase of your project for your future collaborators and users.</p>
</div>
<div id="publish-the-package-website" class="section level3">
<h3 class="hasAnchor">
<a href="#publish-the-package-website" class="anchor"></a>Publish the package website</h3>
<p>When pushed to github.com, a website is created from the files located in the <code>docs</code> folder, provided that you authorized github pages to make the website.<br>
To authorize github pages, go to the project page on the repository, then go to <code>settings</code>&gt;<code>Github Pages</code>&gt;<code>Source</code> and then choose <code>master branch /docs folder</code>.</p>
<p>The website will be at an address of the form (<a href="https://%7Byour" class="uri">https://{your</a> user name}.github.io/{packagename}/), for example the sandbox project is rendered at this adress: <a href="https://sticsrpacks.github.io/sandbox/" class="uri">https://sticsrpacks.github.io/sandbox/</a></p>
</div>
</div>
<div id="shared-github-projects" class="section level2">
<h2 class="hasAnchor">
<a href="#shared-github-projects" class="anchor"></a>Shared GITHUB projects</h2>
<p>The greatest benefit of GIT + Github is to ease the team collaboration on a given project. There are many tools provided by Github.com that we can use. Here is a little introduction to them.</p>
<div id="clone" class="section level3">
<h3 class="hasAnchor">
<a href="#clone" class="anchor"></a>Clone</h3>
<p>To collaborate on a project, you first have to import it on your computer. To do so, there are two ways: to clone the repository, or to fork it. We will only talk about cloning during this tutorial, but forking is also a very interesting way for bigger projects.</p>
<p>To clone the <code>sandbox</code> project, simply go to Github desktop, go to <code>File</code>, clone repository, or press <code>ctrl+shift+O</code>. And then click on <code>URL</code>, and enter this address:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb2-1" title="1">https://github.com/SticsRPacks/sandbox.git</a></code></pre></div>
<p>Then, choose where the repository will be cloned (copied) into your computer.</p>
<blockquote>
<p>People that already are members of the SticsRPacks organisation may find the repository directly in the “Github.com” tab.</p>
</blockquote>
<p>Congratulations, you just cloned the sandbox repository onto you computer! Now you can see all files in your computer by opening the corresponding folder (<code>ctrl+shift+F</code>).</p>
<p>Now open the project in RStudio and explore the files.</p>
</div>
<div id="use-branches" class="section level3">
<h3 class="hasAnchor">
<a href="#use-branches" class="anchor"></a>Use branches</h3>
<p>For the sake of simplicity, we only used the <code>master</code> branch of your test package in the previous example. The downside of using only this branch is that each time a user will change the code while you change it also, it will override the others code. To avoid this behavior, GIT has a nice feature called branches. A branch can be thought as a copy of your project at a given time, that have a parallel history to the <code>master</code> branch. In other words, it allows you to develop some code while not bothering the others.</p>
<p>To ensure that developers use branches, all the <code>master</code> branches of the SticsRPacks repositories will be protected against commits, and must have at least one reviewer. See <a href="https://help.github.com/en/articles/configuring-protected-branches">this page</a> for more details on how to set those rules.</p>
<p>To make modifications to the code, you <strong>must</strong> first create your own branch using Github desktop. It is strongly recommended to name the branch after the feature it is supposed to add. If several people work on the same feature, they have to create a branch for the feature that will be common for them, and after create their own branch that will feed this one.</p>
<p>You can also make a new branch for each independent feature you want to use, because branches are the core feature of GIT (<em>i.e.</em> they are optimized to not take too much disk space). To create a new branch, simply follow the steps showed below:</p>
<div class="figure">
<img src="../www/new_branch/1-new_branch.gif" alt="New branch"><p class="caption">New branch</p>
</div>
<p>Make a new branch using Github desktop, use the name you want, and make sure your are working on this branch.</p>
</div>
<div id="make-your-changes" class="section level3">
<h3 class="hasAnchor">
<a href="#make-your-changes" class="anchor"></a>Make your changes</h3>
<p>You can then freely work on your code without making any changes to the master branch. Create a new function of your own design, add the documentation, add some tests, build the documentation, build the package and update the website.</p>
</div>
<div id="commit" class="section level3">
<h3 class="hasAnchor">
<a href="#commit" class="anchor"></a>Commit</h3>
<p>Each time you modify the package, you should commit your changes to GIT. It is good practice to commit whenever a little step has been reached so the commit message is short enough but still explains everything you did. This methodology make more commits, but is still preferred because it is easier to find changes in the history earlier. So do not hesitates to split your work into little commits.</p>
<p>To commit your changes, open <code>Github desktop</code> and choose the repository. The files that were modified in the repository appear in the left-most window, and the associated code that was added or removed should appear in the window on the right. The code in green was added, and the code in red was removed. To commit those changes, enter a commit message in the left window next to your account image, where it is written <code><a href="https://www.rdocumentation.org/packages/base/topics/groupGeneric">Summary (required)</a></code>. The message should be concise but should describe all the changes. Then press <code>Commit to master</code>. Your changes are commited to the master branch and saved on your computer.</p>
<div class="figure">
<img src="../www/new_branch/3-commit_add_tests_add_x.gif" alt="Commit"><p class="caption">Commit</p>
</div>
</div>
<div id="push" class="section level3">
<h3 class="hasAnchor">
<a href="#push" class="anchor"></a>Push</h3>
<p>Whenever your work is done, or you go for lunch, you should push all your commits to github.com. To do so, just press the <code>Push origin</code> button in the center or in the upper window. Github desktop will send the changes to github.com, and they should appear in the repository.</p>
<p>If you just created your branch, you have to publish it Github.com before:</p>
<div class="figure">
<img src="../www/new_branch/4-publish_branch.gif" alt="Publish branch"><p class="caption">Publish branch</p>
</div>
</div>
<div id="merge-your-changes" class="section level3">
<h3 class="hasAnchor">
<a href="#merge-your-changes" class="anchor"></a>Merge your changes</h3>
<p>Now that everybody has made changes to the code, how do we integrate everything into the <code>master</code> branch ?<br>
Well, there are two ways:<br>
* Merge your branch into the <code>master</code> branch directly using <code>git merge</code><br>
* Make a pull request using Github desktop</p>
<p>If you merge your branch into the <code>master</code> branch, and then push it to Github.com, everybody will have your modifications, but nobody did check your modifications before. To avoid this, it is <em>mandatory</em> in the SticsRPacks projects to make pull requests.</p>
</div>
<div id="pull-request" class="section level3">
<h3 class="hasAnchor">
<a href="#pull-request" class="anchor"></a>Pull request</h3>
<p>Whenever you finished the modifications you wanted to do with your branch, you can make a pull request. This is a way of asking other contributors for their approval of the changes you made before merging your code to the <code>master</code> branch:</p>
<p><img src="../www/new_branch/5.1-pull_request.gif"></p>
<p>You’ll have several steps to complete after:</p>
<ul>
<li>give a general title to your pull request, for example here it is named after the last commit: “Test if x is numeric in add_x”<br>
</li>
<li>add a little description of the changes</li>
<li>check if the merge is automatic or not (is there any conflicts ?)</li>
<li>wait for the automatic tests to run, and if they are successfull:</li>
<li>assign a reviewer</li>
</ul>
<div class="figure">
<img src="../www/new_branch/5.2-ask_reviewer.gif" alt="Ask review"><p class="caption">Ask review</p>
</div>
<ul>
<li>and finally create the pull request.</li>
</ul>
</div>
<div id="review" class="section level3">
<h3 class="hasAnchor">
<a href="#review" class="anchor"></a>Review</h3>
<p>Now that everybody has pushed his/her changes, the code has to be reviewed. As a reviewer, you’ll have to open the pull request (in the Pull requests tab), and review the code in the “Files changed” sub-tab:</p>
<div class="figure">
<img src="../www/new_branch/5.3-review.gif" alt="Review"><p class="caption">Review</p>
</div>
<p>If there are some changes needed before merging the code to the <code>master</code> branch, you can leave a comment (and even propose some code) right where the changes are needed.</p>
<p>Then, the person that did pull the request will have to integrate those proposed changes into its own branch, commit the changes, and update the pull request.</p>
<p>Then, the reviewer will review the code again, and can finally accept the pull request: <img src="../www/new_branch/5.4-accept.gif" alt="Accept pull request"> When the pull request is accepted, it can finally be merged into the <code>master</code> branch:</p>
<div class="figure">
<img src="../www/new_branch/5.5-merge.gif" alt="Merge"><p class="caption">Merge</p>
</div>
<p>This step will add all the commits from the branch to the <code>master</code> branch. A cleaner option is to use the <code>Squash and merge</code> option, which will combine all commits from the branch into one commit only. This option may be cleaner to avoid too many unnecessary commits in the master branch.<br>
It is recommended to delete the branch after merging it to make a cleaner repository.</p>
<p>Note that the previous step can be made all at once by the reviewer (accept and merge).</p>
</div>
<div id="update" class="section level3">
<h3 class="hasAnchor">
<a href="#update" class="anchor"></a>Update</h3>
<p>Once the merge is done, all users can update their local repository with the new code. If the branch was deleted from Github.com, it will still remain on the local copy of the user, so you will have to delete it manually using Github desktop:</p>
<div class="figure">
<img src="../www/new_branch/5.6-update_repo.gif" alt="Update repository"><p class="caption">Update repository</p>
</div>
</div>
<div id="conflicts" class="section level3">
<h3 class="hasAnchor">
<a href="#conflicts" class="anchor"></a>Conflicts</h3>
<p>A pull request may modify some code that was also modified by another user that pulled his changes before you in the <code>master</code> branch. In that case, GIT cannot know which code is the right one, or if there is a need of more code to integrate both changes, so a manual choice has to be made.</p>
<p>Here is an example of a conflict in two steps:</p>
<ul>
<li><p>Making different modifications on two different branches: <img src="../www/conflicts/1-create_merge_conflict.gif" alt="Merge conflict"></p></li>
<li><p>Trying to merge the branches and resolving the conflicts using Atom:</p></li>
</ul>
<div class="figure">
<img src="../www/conflicts/2-merge_conflict.gif" alt="Resolve conflict"><p class="caption">Resolve conflict</p>
</div>
<p>This is an example made on the local repository, but a pull request would yield the same result.</p>
<p>Here is an example with a pull request from a branch:</p>
<div class="figure">
<img src="../www/conflicts/3-pull_request_conflict.gif" alt="Resolve pull request conflict"><p class="caption">Resolve pull request conflict</p>
</div>
<p>As you can see, this pull request cannot be automatically merged, so you have to resolve the conflicts from your computer, or you can even use the web editor if you prefer:</p>
<div class="figure">
<img src="../www/conflicts/4-pull_request_conflict_merge.gif" alt="Merge pull request after resolved conflict"><p class="caption">Merge pull request after resolved conflict</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#personal-git-and-github">Personal GIT and GITHUB</a></li>
      <li><a href="#shared-github-projects">Shared GITHUB projects</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Rémi Vezy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
