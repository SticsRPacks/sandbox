<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Help For Newcomers • sandbox</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Help For Newcomers">
<meta property="og:description" content="sandbox was created to help new people to learn the basis of all tools used in the SticsRPacks project.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sandbox</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="sandbox" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#sandbox" class="anchor"></a>sandbox</h1></div>
<div id="welcome" class="section level2">
<h2 class="hasAnchor">
<a href="#welcome" class="anchor"></a>Welcome !</h2>
<p>If you are a newcomer in the <code>packs4stics</code> community, this repository is for you. It was specifically created to help new people to learn the basis of all tools used in the project.</p>
<p>The first thing to learn is how to use GIT and GITHUB.</p>
</div>
<div id="git-and-github" class="section level2">
<h2 class="hasAnchor">
<a href="#git-and-github" class="anchor"></a>GIT and GITHUB</h2>
<p>GIT is a software designed for efficient version control. It helps you and your collaborators develop better softwares. With GIT, you can save “snapshots” of your work at any moment, and return to a previous state whenever you want. GIT has much more to offer, but this is out of the scope of this introduction.</p>
<div id="git-basis" class="section level3">
<h3 class="hasAnchor">
<a href="#git-basis" class="anchor"></a>GIT basis</h3>
<p>You’ll need some basis on GIT before training on this repository. A first reading that is well adapted to our example is <a href="http://r-pkgs.had.co.nz/git.html">the book of Hadley Wickham</a>. It explains well the basis of GIT in conjunction with R. There are also several tutorials on the internet for begginers:</p>
<ul>
<li><a href="https://learngitbranching.js.org/">learngitbranching</a></li>
<li><a href="https://eu.udacity.com/course/how-to-use-git-and-github--ud775#?autoenroll=true">Udacity free MOOC</a></li>
<li><a href="https://lab.github.com/">Github tutorial</a></li>
<li>
<a href="https://openclassrooms.com/fr/courses/2342361-gerez-votre-code-avec-git-et-github">openclassrooms course</a> (in french only).</li>
</ul>
<p>A good way to start is also to read the <a href="https://git-scm.com/book/en/v2">GIT book</a>, that is made for everybody from beginners to advanced users.</p>
</div>
<div id="clone-the-sandbox-repo" class="section level3">
<h3 class="hasAnchor">
<a href="#clone-the-sandbox-repo" class="anchor"></a>Clone the sandbox repo</h3>
<p>The next step after learning GIT is to use this example. To do so, follow these simple steps:</p>
<ol style="list-style-type: decimal">
<li>Download <a href="https://git-scm.com/">GIT</a> and install it.<br>
</li>
<li>Download and install <a href="https://desktop.github.com/">Github desktop</a>, an app that will help you use GIT.<br>
</li>
<li>Create an account on <a href="https://github.com/">Github</a>.</li>
<li>Open Github desktop, and set your personal informations to connect to your <code>Github.com</code> account.</li>
<li>
<p>On Github desktop, go to <code>File</code>, clone repository, or press <code>ctrl+shift+O</code>. And then click on <code>URL</code>, and enter this address:</p>
<div class="sourceCode"><pre class="sourceCode html"><code class="sourceCode html">https://github.com/SticsRPacks/sandbox.git</code></pre></div>
<p>Then, choose where the repository will be cloned (copied) into your computer.</p>
</li>
</ol>
<blockquote>
<p>People that already are members of the SticsRPacks organisation may find the repository directly in the “Github.com” tab.</p>
</blockquote>
<p>Congratulations, you just cloned the sandbox repository onto you computer! Now you can see all files in your computer by opening the corresponding folder (<code>ctrl+shift+F</code>).</p>
</div>
</div>
<div id="r-package-format" class="section level2">
<h2 class="hasAnchor">
<a href="#r-package-format" class="anchor"></a>R package format</h2>
<p>An R package needs several mandatory files and folders:</p>
<ul>
<li>
<code>DESCRIPTION</code>: this file describes the package (name, authors…)</li>
<li>
<code>NAMESPACE</code>: this file lists the functions</li>
<li>
<code>R</code> folder: the folder that contains all R code</li>
<li>
<code>man</code> folder: the folder that contains all the help pages of the package</li>
<li>
<code>.Rbuildignore</code>: the file that tells R which files are excluded from the package build</li>
</ul>
<p>And some are not mandatory but helpful:</p>
<ul>
<li>
<code>LICENSE</code>: the license under which the project is developed on.</li>
<li>
<code>README.Rmd</code>: A text file that explains the project to humans using the Rmarkdown format. When knited, this file produces the <code>README.md</code> file that is rendered by Github on the main page. This very page is a <code>README.md</code> page that is rendered by Github, and that was created using a <code>README.Rmd</code> file.</li>
<li>
<code>README.md</code>: the file rendered by Github in the main page of the repository and that aims at explaining the project objectives.</li>
<li>
<code>.gitignore</code>: the file that tells GIT which files to ignore.</li>
</ul>
<p>Most of these files are automatically generated using specific tools that are described further.</p>
</div>
<div id="package-example" class="section level2">
<h2 class="hasAnchor">
<a href="#package-example" class="anchor"></a>Package example</h2>
<p>Before doing this tutorial, you need to:</p>
<ol style="list-style-type: decimal">
<li>Download and install <a href="https://www.rstudio.com/">RStudio</a>
</li>
<li>Download and install <a href="https://cloud.r-project.org/">R</a>
</li>
<li>Download and install the tools to build the package:
<ul>
<li>
<a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a> if you have a windows machine</li>
<li>
<code>XCode</code> from the AppStore if you have a mac</li>
<li>
<code>r-base-dev</code> on linux</li>
</ul>
</li>
<li>Use this command line on R to download these packages:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"devtools"</span>, <span class="st">"roxygen2"</span>, <span class="st">"testthat"</span>, <span class="st">"knitr"</span>,<span class="st">"usethis"</span>))</code></pre></div>
<div id="open-the-rstudio-project" class="section level3">
<h3 class="hasAnchor">
<a href="#open-the-rstudio-project" class="anchor"></a>Open the Rstudio project</h3>
<p>Double-click on the <code>sandbox.Rproj</code> file. It will open the Rstudio project. From the <code>Files</code> window, open the R folder. You will find here all the R scripts used for the package. It is highly encouraged to put each function in a separate file, unless they are very short and can be grouped under a common file with a title that describes well their purpose.</p>
</div>
<div id="simple-function" class="section level3">
<h3 class="hasAnchor">
<a href="#simple-function" class="anchor"></a>Simple function</h3>
<p>Click on the <a href="R/add.r"><code>add.r</code></a> file. This file contains one function: <code><a href="reference/add_x.html">add_x()</a></code>. This function simply adds the input to itself. You can see that it is preceded by some text formatted as follows: <code>#' Text</code>. This text is a Roxygen documentation. It is formated on a special way that helps R generate the package documentation.</p>
</div>
<div id="documentation" class="section level3">
<h3 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h3>
<p>The help pages of each function in a R package are generated by <code>roxygen2</code>. To learn more about function documentation read <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html">this vignette</a>, and to learn more about the format of the documentation read <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/rd.html">this vignette</a> and <a href="https://cran.r-project.org/web/packages/roxygen2/vignettes/formatting.html">this one</a>.</p>
</div>
<div id="build-the-package" class="section level3">
<h3 class="hasAnchor">
<a href="#build-the-package" class="anchor"></a>Build the package</h3>
<p>Now that you have the package on your computer, you can build the documentation for all your functions by pressing <code>ctrl+shift+D</code>, or by going on the <code>Build</code> tab on the upper-right and by clicking on <code>More</code>&gt;<code>Document</code>. This uses Roxygen to build the help pages from the documentation you write above your functions. The help pages are written in <code>.Rd</code> files on the <code>man</code> folder of the package. Do not edit these files manually.</p>
<p>You can finally build and install your package by going on the <code>Build</code> tab on the upper-right, and by clicking on the <code>Install and Restart</code> button (or press <code>ctrl+shift+B</code>). This step build the package into your computer.</p>
<p>Now execute this command to access the help page of the function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><a href="reference/add_x.html">?add_x</a></code></pre></div>
<p>The help page of the function should pop-up.</p>
</div>
<div id="add-a-function" class="section level3">
<h3 class="hasAnchor">
<a href="#add-a-function" class="anchor"></a>Add a function</h3>
<p>Add the following code to the R script:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">add_xy=<span class="st"> </span><span class="cf">function</span>(x,y){
  x<span class="op">+</span>y
}</code></pre></div>
<p>This function adds x to y and return the result. Your R script should look like this now:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#' Add once</span>
<span class="co">#'</span>
<span class="co">#' @description Adds the input to itself</span>
<span class="co">#'</span>
<span class="co">#' @param x Double or Integer</span>
<span class="co">#'</span>
<span class="co">#' @return x+x</span>
<span class="co">#' @export</span>
<span class="co">#'</span>
<span class="co">#' @examples</span>
<span class="co">#' add_x(2)</span>
<span class="co">#'</span>
add_x=<span class="st"> </span><span class="cf">function</span>(x){
  x<span class="op">+</span>x
}

add_xy=<span class="st"> </span><span class="cf">function</span>(x,y){
  x<span class="op">+</span>y
}</code></pre></div>
<p>To add the documentation to your function, place your cursor into the function, click on the magic wand just above your script and choose <code>Insert Roxygen Skeleton</code>, or press <code>ctrl+shift+alt+R</code>. This will create a dummy Roxygen documentation above your function using the arguments of your function. Your function should look like this now:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#' Title</span>
<span class="co">#'</span>
<span class="co">#' @param x </span>
<span class="co">#' @param y </span>
<span class="co">#'</span>
<span class="co">#' @return</span>
<span class="co">#' @export</span>
<span class="co">#'</span>
<span class="co">#' @examples</span>
add_xy=<span class="st"> </span><span class="cf">function</span>(x,y){
  x<span class="op">+</span>y
}</code></pre></div>
<p>Fill the documentation such as:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#' Add x to y</span>
<span class="co">#'</span>
<span class="co">#' @param x Double or integer</span>
<span class="co">#' @param y Double or integer</span>
<span class="co">#'</span>
<span class="co">#' @return x+y</span>
<span class="co">#' @export</span>
<span class="co">#'</span>
<span class="co">#' @examples</span>
<span class="co">#' add_xy(2,3)</span>
add_xy=<span class="st"> </span><span class="cf">function</span>(x,y){
  x<span class="op">+</span>y
}</code></pre></div>
<p>Then re-build your documentation (<code>ctrl+shift+D</code>), and re-build your package (<code>ctrl+shift+B</code>). You should have access to your own function help page:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?add_xy</code></pre></div>
</div>
</div>
<div id="test-your-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#test-your-functions" class="anchor"></a>Test your functions</h2>
<p>After writing a new function or modifying one, it is important to test it. This step is mandatory, because some other functions may call this function you wrote, and it becomes more and more difficult to know where bugs are located when none of the functions were thoroughly tested. There are two steps to test a function. The first one is to test it by yourself when designing it, and the other one is by adding automatic tests.</p>
<div id="manually" class="section level3">
<h3 class="hasAnchor">
<a href="#manually" class="anchor"></a>Manually</h3>
<p>When coding a function, you should always test if each line of code in your function is returning the expected result, and if the function returns the correct output after execution. To do so, you can create a separate Rstudio project where you will test your package: go to <code>File</code>&gt;<code>New Project</code>&gt;<code>New Directory</code>&gt;<code>New Project</code>, type your project name and choose where it will be located on your computer. The project name is usually taken as the R package name followed by “test”, such as <code>SticsOnR_test</code>. This step is not mandatory but strongly advised.</p>
<p>After creating the new project, add a new R script (<code>ctrl+shift+N</code>), load your R package such as:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(SticsOnR)</code></pre></div>
<p>And test your function by giving different inputs and checking the function outputs.</p>
</div>
<div id="automatically" class="section level3">
<h3 class="hasAnchor">
<a href="#automatically" class="anchor"></a>Automatically</h3>
<p>Manual tests are a good first step to evaluate a function, but users tend to test their functions once only, and to skip the tests when making a small change. But this methodology can make the code break for everybody, which is not desirable.</p>
<p>Here enters the automatic tests, or unit tests. These tests are written once, and executed each time the code of the package is pushed to <code>github.com</code>, or every time the user needs to. These tests are implemented by using the <code>testthat</code> package. All documentation is available on the <a href="https://testthat.r-lib.org/">package website</a>.</p>
<p>To add unit tests to our example function (or to a set of functions), run this command:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">usethis<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/usethis/topics/use_testthat">use_test</a></span>(<span class="st">"add"</span>)</code></pre></div>
<p>If you add tests on your package for the first time, the <code><a href="https://www.rdocumentation.org/packages/usethis/topics/use_testthat">usethis::use_test()</a></code> command will create all the infrastructure you need, if not, it will just create a new test script to your tests.</p>
<p>Now a new folder appeared in our project: <code>tests</code>, which contains two things:</p>
<ul>
<li><p>A subfolder called <code>testthat</code> that contains all tests scripts you created.</p></li>
<li><p>An R script called <code>testthat.R</code>. This script will call all tests in the R scripts located in <code>testthat</code>. Do not mind this script, you will probably never have to modify it.</p></li>
</ul>
<p>If you executed the previous command, you should have a unit test script called <code>test-add.R</code> in this directory with the following code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">context</span>(<span class="st">"test-add"</span>)

<span class="kw">test_that</span>(<span class="st">"multiplication works"</span>, {
  <span class="kw">expect_equal</span>(<span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">4</span>)
})</code></pre></div>
<p>This test is an example that tests if <code>2 * 2</code> is equal to <code>4</code>. Change the code to the following to test our function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">context</span>(<span class="st">"test-add"</span>)

<span class="kw">test_that</span>(<span class="st">"add_x returns right output"</span>, {
  <span class="kw">expect_equal</span>(<span class="kw"><a href="reference/add_x.html">add_x</a></span>(<span class="dv">1</span>), <span class="dv">2</span>)
})</code></pre></div>
<p>This code tests that <code><a href="reference/add_x.html">add_x(1)</a></code> returns <code>2</code>. To run the test, go to the <code>Build</code> tab, and choose <code>Test Package</code>, or press <code>ctrl+shift+T</code>. The tests will all be executed, and a report will appear on the <code>Build</code> tab at the end, showing which tests were successfull, and which failed or returned warnings.</p>
<p>You should add different tests for each of your functions, to check if they work correctly, and if they handle errors properly.</p>
<p>More details about unit tests with <code>testthat</code> are given <a href="http://r-pkgs.had.co.nz/tests.html">here</a>.</p>
</div>
</div>
<div id="share-your-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#share-your-changes" class="anchor"></a>Share your changes</h2>
<div id="commit" class="section level3">
<h3 class="hasAnchor">
<a href="#commit" class="anchor"></a>Commit</h3>
<p>Each time you modify the package, you should commit your changes to GIT. It is good practice to commit whenever a little step has been reached so the commit message is short enough but still explains everything you did. This methodology make more commits, but is still preferred because it is easier to find changes in the history earlier. So do not hesitates to split your work into little commits.</p>
<p>To commit your changes, open <code>Github desktop</code> and choose the repository. The files that were modified in the repository appear in the left-most window, and the associated code that was added or removed should appear in the window on the right. The code in green was added, and the code in red was removed. To commit those changes, enter a commit message in the left window next to your account image, where it is written <code><a href="https://www.rdocumentation.org/packages/base/topics/groupGeneric">Summary (required)</a></code>. The message should be concise but should describe all the changes. Then press <code>Commit to master</code>. Your changes are commited to the master branch and saved on your computer.</p>
</div>
<div id="push" class="section level3">
<h3 class="hasAnchor">
<a href="#push" class="anchor"></a>Push</h3>
<p>Whenever your work is done, or you go for lunch, you should push all your commits to github.com. To do so, just press the <code>Push origin</code> button in the center or in the upper window. Github desktop will send the changes to github.com, and they should appear in the repository.</p>
</div>
</div>
<div id="make-a-website" class="section level2">
<h2 class="hasAnchor">
<a href="#make-a-website" class="anchor"></a>Make a website</h2>
<p>A website can be automatically generated from the helpfiles of the R package, the vignettes and the <code>README.md</code> file by using the <code>pkgdown</code> package. For example the auto-generated website for the <code>SticsOnR</code> package is available <a href="https://sticsrpacks.github.io/SticsOnR/">here</a>.</p>
<p>To set up the website, simply executed the follwing code:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">pkgdown<span class="op">::</span><span class="kw"><a href="https://pkgdown.r-lib.org/reference/build_site.html">build_site</a></span>()</code></pre></div>
</div>
<div id="add-coverage-ci" class="section level2">
<h2 class="hasAnchor">
<a href="#add-coverage-ci" class="anchor"></a>Add coverage + CI</h2>
</div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>File license</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Rémi Vezy <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Rémi Vezy.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
